 SELECT if(st.approved=1,'Approved','Pending')ApprovalStatus, Location ,cat.CategoryTypeName,subcat.SubCategoryTypeName,itemcat.Name itemgroupName,  sm.typename itemname,sm.MachineName ,st.OldQty,st.NewQty,(st.OldQty-st.NewQty)Difference,st.NewBatch,if(st.NewBatch<>'',DATE_FORMAT(st.NewBatchExpiryDate,'%d-%b-%y'),'') NewBatchExpiryDate ,VerificationRemarks ,rate,discountper,discountamount,taxper,taxamount,unitprice,(unitprice*st.NewQty) NewStockValue,(SELECT barcodeno FROM st_nmstock WHERE stockid=st.stockid LIMIT 1) Barcodeno, st.UserName SavedBy,DATE_FORMAT(st.EntryDate,'%d-%b-%y') EntryDate,st.ApprovedByName ApprovedBy,DATE_FORMAT(st.ApprovedDate,'%d-%b-%y') ApprovedDate from st_StockPhysicalVerification st  INNER JOIN `st_locationmaster` slm ON st.locationid=slm.locationid  INNER JOIN st_itemmaster sm ON sm.itemid=st.itemid  INNER JOIN st_categorytypemaster cat ON cat.CategoryTypeID=sm.CategoryTypeID   INNER JOIN st_subcategorytypemaster subcat ON subcat.SubCategoryTypeID=sm.SubCategoryTypeID   INNER JOIN st_subcategorymaster itemcat ON itemcat.SubCategoryID=sm.SubCategoryID    WHERE st.isactive=1   AND  if(st.approved=1,st.ApprovedDate,st.entrydate)>='2022-04-01 00:00:00'   AND  if(st.approved=1,st.ApprovedDate,st.entrydate)<='2022-04-13 23:59:59' 