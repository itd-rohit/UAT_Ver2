<%@ Page Title="" Language="C#" MasterPageFile="~/Design/DefaultHome.master" AutoEventWireup="true" CodeFile="PhelebotomistMapping.aspx.cs" Inherits="Design_HomeCollection_PhelebotomistMapping" %><%@ Register Assembly="System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"    Namespace="System.Web.UI" TagPrefix="Ajax" %><%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="cc1" %><asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">        <webopt:BundleReference ID="BundleReference1" runat="server" Path="~/App_Style/jquery-ui.css" />    <webopt:BundleReference ID="BundleReference2" runat="server" Path="~/App_Style/chosen.css" />    <link href="../../App_Style/multiple-select.css" rel="stylesheet" />     <script type="text/javascript" src="../../Scripts/tableHeadFixer.js"></script>    <script type="text/javascript" src="../../Scripts/jquery.multiple.select.js"></script>    <link href="../../App_Style/multiple-select.css" rel="stylesheet" />       <style type="text/css">      .multiselect {          width: 100%;      }      .GridViewLabItemStyle {          border: solid 1px #C6DFF9;          padding-left: 3px;          font-size: 8.0pt;          height: 35px;          background-color: #fff;      }      .GridViewHeaderStyle {          height: 30px;      }      .level {          background: #dbf786;    font-size: 12px;    padding: 6px;    border-radius: 10px;      }      .chosen-container {          width:250px !important;      }      #ddlDropLocation_chosen {          width:400px !important;      }        </style>    <link href="../../App_Style/multiple-select.css" rel="stylesheet" />     <div id="Pbody_box_inventory">         <Ajax:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods="true"></Ajax:ScriptManager>               <asp:HiddenField ID="hdncategoryID" runat="server" />        <div class="POuter_Box_Inventory">            <div class="col-md-9"></div>            <div class="col-md-4"><b>Phelebotomist Mapping </b></div>         </div>                  <div class="POuter_Box_Inventory">                             <div class="row">                    <div class="col-md-3">                        <label class="pull-left">Business Zone</label>			            <b class="pull-right">:</b>                    </div>                      <div class="col-md-5">                            <asp:DropDownList ID="ddlZone" runat="server"  class="ddlZone chosen-select" ClientIDMode="Static" onchange="bindState()"></asp:DropDownList>                      </div>                    <div class="col-md-2">                        <label class="pull-left">State</label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                        <asp:DropDownList ID="ddlState" runat="server" ClientIDMode="Static" class="ddlState chosen-select" onchange="bindCity();">                          </asp:DropDownList>                    </div>                    <div class="col-md-2">                        <label class="pull-left">City</label>			            <b class="pull-right">:</b>                    </div>                        <div class="col-md-5">                        <asp:ListBox ID="ddlCity" CssClass="multiselect" SelectionMode="Multiple" runat="server" ClientIDMode="Static" ></asp:ListBox>                    </div>                    </div>            <div class="row">                <div class="col-md-10"></div>                <div class="col-md-1">                      <input type="button" value="Search" class="searchbutton" onclick="searchitem()" />                </div>                <div class="col-md-1">                    <input type="button" value="Excel" class="searchbutton" onclick="searchitemexcel()" />                </div>            </div>                       </div>        <div class="POuter_Box_Inventory" >          <div style="height: 450px; overflow: auto;" id="mmdiv">                    <table id="tblitemlist" style="width: 100%; border-collapse: collapse; text-align: left;">                        <thead>                        <tr id="triteheader">                            <td class="GridViewHeaderStyle" style="width: 20px;">S.No.</td>                            <td class="GridViewHeaderStyle" >City</td>                            <td class="GridViewHeaderStyle" >Area</td>                            <td class="GridViewHeaderStyle">Pincode</td>                            <td class="GridViewHeaderStyle" >Route</td>                            <td class="GridViewHeaderStyle">Phelebo</td>                            <td class="GridViewHeaderStyle">Drop Location</td>                                                   </tr>                          </thead>                    </table>                </div>     </div>     </div>    <asp:Panel ID="Routedata_Multiple" runat="server" BackColor="#EAF3FD" BorderStyle="None" style="display:none;z-index:99999; border:1px solid #000;" >        <div class="Purchaseheader" >                <div class="row">                       <div class="col-md-3">                        <label class="pull-left">Map Multiple Route</label>			            <b class="pull-right">:</b>                        <span id="lblLable_Multiple"></span>                    </div>                                        <div class="col-md-5">                              <img id="btnclosepopup_Multiple" alt="1" src="../../App_Images/Delete.gif"  style="cursor:pointer;"  onclick="closePopUpRoute_Multiple()" />                      </div>                      </div>      </div>         <div>                 <div class="row">                     <div class="col-md-6">                         <asp:Label ID="lblPopUpError_Multiple" runat="server" CssClass="ItDoseLblError_Multiple"></asp:Label>                     </div>                 </div>                                   <div class="row">                                        <div class="col-md-3">                                            <label class="pull-left">Area</label>			                                <b class="pull-right">:</b>                                        </div>                                       <div class="col-md-5">                                          <asp:ListBox ID="lst_LocationRoute" CssClass="multiselect" SelectionMode="Multiple" runat="server" ClientIDMode="Static" ></asp:ListBox>                                       </div>                                         <div class="col-md-3">                                        <label class="pull-left">Route</label>			                                <b class="pull-right">:</b>                                        </div>                                       <div class="col-md-5">                                           <asp:DropDownList ID="ddlRoute_Multiple" runat="server" ClientIDMode="Static" class="ddlRoute_Multiple chosen-select" >                                            </asp:DropDownList>                                       </div>                                                </div>             </div>          <div style="text-align:center; ">                 <input type="button" class="searchbutton" onclick="SaveRoute_Multiple()" id="btnSaveRoute_Multiple" value="Save"/>              &nbsp;&nbsp;&nbsp;&nbsp;                                </div>              <div id="div_RouteDetail_Multiple"></div>                                                    </asp:Panel>    <asp:Button ID="Button1_Multiple" runat="server" style="display:none;" />  <cc1:modalpopupextender ID="modelpopupRoute_Multiple" runat="server" CancelControlID="btnclosepopup_Multiple" TargetControlID="Button1_Multiple"        BackgroundCssClass="filterPupupBackground" PopupControlID="Routedata_Multiple">    </cc1:modalpopupextender>    <script id="sc_RouteDetail_Multiple" type="text/html">          <table class="GridViewStyle" cellspacing="0" rules="all"  id="tbl_RouteDetail_Multiple" width="99%" >		<tr id="Tr1">			            <th class="GridViewHeaderStyle" style="width:300px; text-align:left;" >Area</th>            <th class="GridViewHeaderStyle" style="width:100px;">Route</th>			            <th class="GridViewHeaderStyle" style="width:30px;">Remove</th>          </tr>       <#              var dataLength=routeTableData.length;                         var objRow;                    for(var j=0;j<dataLength;j++)        {         objRow = routeTableData[j];                         #><tr>        <td class="GridViewLabItemStyle" id="td10" style="text-align:left;"><#=objRow.Name#></td>    <td class="GridViewLabItemStyle" id="td11" style="text-align:left;"><#=objRow.route#></td>      <td class="GridViewLabItemStyle" id="td12" style="text-align:left;display:none"><#=objRow.localityid#></td>    <td class="GridViewLabItemStyle" id="td13" style="text-align:left;display:none"><#=objRow.Routeid#></td>               <td class="GridViewLabItemStyle" style="text-align:left;">        <img src="../../App_Images/Delete.gif" style="cursor:pointer" onclick="RouteRemove_Multiple('<#=objRow.localityid#>','<#=objRow.Routeid#>','<#=objRow.cityid#>')" /></td></tr>                      <#}#></table>                             </script>     <asp:Panel ID="Routedata" runat="server" BackColor="#EAF3FD" BorderStyle="None" style="display:none;z-index:99999; border:1px solid #000;width:1200px;" >                <div class="Purchaseheader" >                <div class="row">                       <div class="col-md-3">                        <label class="pull-left">Map Route </label>			            <b class="pull-right">:</b>                    </div>                                  <div class="col-md-2"><span id="lbroutehead" /></div>                    <div class="col-md-18"></div>                          <div class="col-md-1">                              <img id="btnclosepopup" alt="1" src="../../App_Images/Delete.gif"  style="cursor:pointer;"  onclick="closePopUpRoute()" />                      </div>                                    </div>      </div>         <div>                <div class="row">                    <div class="col-md-3">                        <label class="pull-left">Route </label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                                              <asp:DropDownList ID="ddlRoute" runat="server" Width="210px" onchange="bindArea_Multiple_ChangeRoute();"  ClientIDMode="Static" class="ddlRoute chosen-select" >                        </asp:DropDownList>                    </div>                                                         </div>                <div class="row">                    <div class="col-md-3">                        <label class="pull-left">Area </label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                           <div id="BindingDiv" style="max-height:200px;overflow:auto;width:900px;"> </div>                    </div>                </div>             <div class="row"></div>             </div>         <div id="div_RouteDetail" style="overflow:auto;max-height:200px;width: 1190px;"></div>     </asp:Panel>    <asp:Button ID="Button1" runat="server" style="display:none;" />  <cc1:modalpopupextender ID="modelpopupRoute" runat="server" CancelControlID="btnclosepopup" TargetControlID="Button1"        BackgroundCssClass="filterPupupBackground" PopupControlID="Routedata">    </cc1:modalpopupextender>    <script id="sc_RouteDetail" type="text/html">          <table class="GridViewStyle" cellspacing="0" rules="all"  id="tbl_RouteDetail" width="99%" >		<tr id="RouteHeader">			            <th class="GridViewHeaderStyle" style="width:200px; text-align:left;" >Area</th>             <th class="GridViewHeaderStyle" style="width:200px; text-align:left;" >Pincode</th>            <th class="GridViewHeaderStyle" style="width:100px;">Route</th>			            <th class="GridViewHeaderStyle" style="width:30px;">Remove</th>          </tr>       <#              var dataLength=routeTableData.length;                         var objRow;                    for(var j=0;j<dataLength;j++)        {         objRow = routeTableData[j];                         #><tr>        <td class="GridViewLabItemStyle" id="tdAreaName" style="text-align:left;"><#=objRow.Name#></td>    <td class="GridViewLabItemStyle" id="td14" style="text-align:left;"><#=objRow.Pincode#></td>    <td class="GridViewLabItemStyle" id="tdRouteNAme" style="text-align:left;"><#=objRow.route#></td>      <td class="GridViewLabItemStyle" id="tdlocalityid" style="text-align:left;display:none"><#=objRow.localityid#></td>    <td class="GridViewLabItemStyle" id="tdRouteid" style="text-align:left;display:none"><#=objRow.Routeid#></td>               <td class="GridViewLabItemStyle" style="text-align:left;">        <img src="../../App_Images/Delete.gif" style="cursor:pointer" onclick="RouteRemove('<#=objRow.localityid#>','<#=objRow.Routeid#>')" /></td></tr>                      <#}#></table>                             </script>     <asp:Panel ID="Phelbodata" runat="server" BackColor="#EAF3FD" BorderStyle="None" style="display:none;z-index:99999; border:1px solid #000;width:1200px;" >        <div class="Purchaseheader">                <div class="row">                       <div class="col-md-3">                        <label class="pull-left">Map Phelbo</label>			            <b class="pull-right">:</b>                    </div>                                        <div class="col-md-8">                        <span id="lblphname" />                    </div>                    <div class="col-md-12"></div>                    <div class="col-md-1">                              <img id="Img1" alt="1" src="../../App_Images/Delete.gif"  style="cursor:pointer;"  onclick="closePopUpPhelbo()" />                      </div>                                    </div>      </div>         <div>                          <div class="row">                                                   <div class="col-md-3">                        <label class="pull-left">Phelbo</label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                       <asp:DropDownList ID="ddlPhelbo" runat="server" onchange="bindArea_Multiple_ChangePhelebo();" ClientIDMode="Static" class="ddlPhelbo chosen-select" >                    </asp:DropDownList>                    </div>                                                   </div>                <div class="row">                    <div class="col-md-3">                        <label class="pull-left">Area</label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                           <div id="divAreaPhlebo" style="max-height:200px;overflow:auto;width:900px;"> </div>                    </div>                </div>             </div>         <div id="div_PhelboDetail" style="overflow:auto; max-height: 200px;width:1190px;"></div>     </asp:Panel>       <asp:Button ID="Button2" runat="server" style="display:none;" />  <cc1:modalpopupextender ID="modelpopupPhelbo" runat="server" CancelControlID="btnclosepopup" TargetControlID="Button2"        BackgroundCssClass="filterPupupBackground" PopupControlID="Phelbodata">    </cc1:modalpopupextender>        <script id="sc_PhelboDetail" type="text/html">          <table class="GridViewStyle" cellspacing="0" rules="all"  id="tbl_PhelboDetail" width="99%" >		<tr id="PhelboHeader">            <th class="GridViewHeaderStyle"  style="width:200px; text-align:left;" >Area</th>            <th class="GridViewHeaderStyle"  style="width:100px; text-align:left;" >Pincode</th>            <th class="GridViewHeaderStyle" style="width:100px;">Phelbo Name</th>            <th class="GridViewHeaderStyle" style="width:30px;">Remove</th>         </tr>       <#              var dataLength=PheleboTableData.length;                         var objRow;                    for(var j=0;j<dataLength;j++)        {         objRow = PheleboTableData[j];                         #><tr>    <td class="GridViewLabItemStyle" id="td1"  style="text-align:left;"><#=objRow.Name#></td>    <td class="GridViewLabItemStyle" id="td15"  style="text-align:left;"><#=objRow.Pincode#></td>    <td class="GridViewLabItemStyle" id="td2" style="text-align:left;"><#=objRow.phlebotomist#></td>     <td class="GridViewLabItemStyle" id="td3" style="text-align:left;display:none"><#=objRow.localityid#></td>    <td class="GridViewLabItemStyle" id="td4" style="text-align:left;display:none"><#=objRow.phlebotomistid#></td> <td class="GridViewLabItemStyle" style="text-align:left;">        <img src="../../App_Images/Delete.gif" style="cursor:pointer" onclick="PhelboRemove('<#=objRow.localityid#>','<#=objRow.phlebotomistid#>')" /></td></tr>            <#}#></table>                             </script>    <asp:Panel ID="DropLocationdata" runat="server" BackColor="#EAF3FD" BorderStyle="None" style="display:none;z-index:99999; border:1px solid #000;width:1200px;" >        <div class="Purchaseheader">                <div class="row">                 <div class="col-md-5">                     <label class="pull-left">Map DropLocation</label>			            <b class="pull-right">:</b>                 </div>                        <div class="col-md-7">                        <span id="lbldrname" />                    </div>                    <div class="col-md-11"></div>                 <div class="col-md-1">                              <img id="Img2" alt="1" src="../../App_Images/Delete.gif"  style="cursor:pointer;"  onclick="closePopUpDropLocation()" />                   </div>                  </div>                <div class="row">                    <div class="col-md-12">                        <asp:RadioButtonList ID="rblSearchType" runat="server"  RepeatDirection="Horizontal"  onclick="bindDropLocationChangeType();" >                        <asp:ListItem Text="PCC/PCL" Value="1" Selected="True"></asp:ListItem>                        <asp:ListItem Text="SL/NRL" Value="2" ></asp:ListItem>                        <asp:ListItem Text="HLM/RLM" Value="3"></asp:ListItem>                        <asp:ListItem Text="RRL" Value="4"></asp:ListItem>                        <asp:ListItem Text="DDC" Value="5"></asp:ListItem>                        <asp:ListItem Text="STAT" Value="6"></asp:ListItem>                                             </asp:RadioButtonList>                    </div>                </div>      </div>         <div>                <div class="row">                    <div class="col-md-3">                        <label class="pull-left">DropLocation </label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                       <asp:DropDownList ID="ddlDropLocation" runat="server" ClientIDMode="Static" class="ddlDropLocation chosen-select" onchange="bindArea_Multiple_ChangeDropLocation();" >                    </asp:DropDownList>                                                          </div>                                                     </div>                <div class="row">                    <div class="col-md-3">                        <label class="pull-left">Area </label>			            <b class="pull-right">:</b>                    </div>                    <div class="col-md-5">                           <div id="divAreaDropLocation" style="max-height:200px;overflow:auto;width:900px;"> </div>                    </div>                </div>             </div>         <div id="div_DropLocationDetail" style="overflow:auto; max-height: 200px;overflow:auto;width: 1190px;"></div>     </asp:Panel>       <asp:Button ID="Button3" runat="server" style="display:none;" />  <cc1:modalpopupextender ID="modelpopupDropLocation" runat="server" CancelControlID="btnclosepopup" TargetControlID="Button2"        BackgroundCssClass="filterPupupBackground" PopupControlID="DropLocationdata">    </cc1:modalpopupextender>        <script id="sc_DropLocationDetail" type="text/html">          <table class="GridViewStyle" cellspacing="0" rules="all"  id="tbl_DropLocationDetail" width="99%" >		<tr id="DropLocationHeader">            <th class="GridViewHeaderStyle" style="width:200px; text-align:left;" >Area</th>             <th class="GridViewHeaderStyle" style="width:100px;">DropLocation Code</th>            <th class="GridViewHeaderStyle" style="width:100px;">DropLocation Name</th>            <th class="GridViewHeaderStyle" style="width:30px;">Remove</th>         </tr>       <#              var dataLength=DropLocationTableData.length;                         var objRow;                    for(var j=0;j<dataLength;j++)        {         objRow = DropLocationTableData[j];                         #><tr>        <td class="GridViewLabItemStyle" id="td5" style="text-align:left;"><#=objRow.Name#></td>    <td class="GridViewLabItemStyle" id="td6" style="text-align:left;"><#=objRow.CentreCode#></td>    <td class="GridViewLabItemStyle" id="td9" style="text-align:left;"><#=objRow.Centre#></td>     <td class="GridViewLabItemStyle" id="td7" style="text-align:left;display:none"><#=objRow.localityid#></td>    <td class="GridViewLabItemStyle" id="td8" style="text-align:left;display:none"><#=objRow.droplocationID#></td> <td class="GridViewLabItemStyle" style="text-align:left;">        <img src="../../App_Images/Delete.gif" style="cursor:pointer" onclick="DropLocationRemove('<#=objRow.localityid#>','<#=objRow.droplocationID#>')" /></td></tr>            <#}#></table>     </script>      <input type="hidden" id="hdnRouteId" />     <input type="hidden" id="hdnlocationid" />     <input type="hidden" id="hdnStateId" />     <input type="hidden" id="hdnPincode" />     <input type="hidden" id="hdnCityId" />    <script type="text/javascript">        jQuery(function () {            jQuery("#tblitemlist").tableHeadFixer({            });            var config = {                '.chosen-select': {},                '.chosen-select-deselect': { allow_single_deselect: true },                '.chosen-select-no-single': { disable_search_threshold: 10 },                '.chosen-select-no-results': { no_results_text: 'Oops, nothing found!' },                '.chosen-select-width': { width: "95%" }            }            jQuery('#ddlRoute').trigger('chosen:updated');            for (var selector in config) {                jQuery(selector).chosen(config[selector]);            }            jQuery('#ddlState').trigger('chosen:updated');            jQuery('[id*=ddlCity]').multipleSelect({                includeSelectAllOption: true,                filter: true, keepOpen: false            });            jQuery('#ddlDropLocation').trigger('chosen:updated');            for (var selector in config) {                jQuery(selector).chosen(config[selector]);            }            jQuery('#ddlPhelbo').trigger('chosen:updated');            for (var selector in config) {                jQuery(selector).chosen(config[selector]);            }            jQuery('[id*=lst_LocationRoute]').multipleSelect({                includeSelectAllOption: true,                filter: true, keepOpen: false            });        });    </script>    <script type="text/javascript">        function OpenPopupRoute_Multiple() {            bindRoute_Multiple($('#hdnCityId').val());            bindArea_Multiple($('#hdnCityId').val());            BindRouteTable_Multiple($('#hdnCityId').val());            $find("<%=modelpopupRoute_Multiple.ClientID%>").show();        }        function closePopUpRoute_Multiple() {            $find("<%=modelpopupRoute_Multiple.ClientID%>").hide();            jQuery("#btnSaveRoute_Multiple").val('Save');        }        function closePopUpRoute() {            $find("<%=modelpopupRoute.ClientID%>").hide();        }        function OpenPopupRoute(CityId, LocationId, Pincode, Routeid, ctrl) {             $('#lbroutehead').text($('#tblitemlist tr#' + LocationId).find('#tdRoutehead').text());            $('#hdnlocationid').val(LocationId);            $('#hdnCityId').val(CityId);            bindRoute(CityId, Routeid);            bindArea_Multiple(Pincode, Routeid, CityId);            $find("<%=modelpopupRoute.ClientID%>").show();        }        function closePopUpRoute() {            $find("<%=modelpopupRoute.ClientID%>").hide();        }        function closePopUpPhelbo() {            $find("<%=modelpopupPhelbo.ClientID%>").hide();           }        function OpenPopupPhelbo(CityId, LocationId, Pincode, Pheleboid, LocationName,ctrl) {            $('#lblphname').text($('#tblitemlist tr#' + LocationId).find('#tdPhelbohead').text());            $('#hdnlocationid').val(LocationId);            bindPhelbo(CityId, Pheleboid);            bindArea_Multiple_Phelebo(Pincode, Pheleboid, CityId);            $find("<%=modelpopupPhelbo.ClientID%>").show();        }        function OpenPopupDropLocation(CityId, StateId, LocationId, Pincode, DropLocationid,PanelId, LocationName, ctrl) {            $('#lbldrname').text($('#tblitemlist tr#' + LocationId).find('#tdDropLocationhead').text());            $('#spn_areaName_DopLocation').text(LocationName);            $('#hdnlocationid').val(LocationId);            $('#hdnStateId').val(StateId);            $('#<%=rblSearchType.ClientID %>').find("input[value='1']").prop("checked", true);            bindDropLocation(StateId, DropLocationid, PanelId);            bindArea_Multiple_DropLocation(Pincode, 0, CityId);            $find("<%=modelpopupDropLocation.ClientID%>").show();        }        function closePopUpDropLocation() {            $find("<%=modelpopupDropLocation.ClientID%>").hide();          }    </script>    <script type="text/javascript">        function bindState() {            var ddlState;            var BusinessZoneID;            jQuery('#ddlCity option').remove();            jQuery('#ddlCity').multipleSelect("refresh");            ddlState = $("#<%=ddlState.ClientID %>");            $("#<%=ddlState.ClientID %> option").remove();             serverCall('PhelebotomistMapping.aspx/bindState',                 { BusinessZoneID:  $("#<%=ddlZone.ClientID %>").val()},                function (result) {                    StateData = jQuery.parseJSON(result);                    if (StateData.length > 0) {                        ddlState.bindDropDown({ defaultValue: '--Select---', data: JSON.parse(result), valueField: 'ID', textField: 'State', isSearchAble: true });                    }                    jQuery('#ddlZone,#ddlState').trigger('chosen:updated');                })         }      function bindCity() {            jQuery('#ddlCity option').remove();            jQuery('#ddlCity').multipleSelect("refresh");              serverCall('PhelebotomistMapping.aspx/bindCity',                { StateID:  jQuery('#ddlState').val() },                function (result) {                    var cityData = jQuery.parseJSON(result);                    //ddlState.bindMultipleSelect({ defaultValue: '', data: JSON.parse(result), valueField: 'ID', textField: 'City', isSearchAble: true });                    for (i = 0; i < cityData.length; i++) {                        jQuery("#ddlCity").append(jQuery("<option></option>").val(cityData[i].ID).html(cityData[i].City));                    }                    jQuery('[id*=ddlCity]').multipleSelect({                        includeSelectAllOption: true,                        filter: true, keepOpen: false                    });                })      }        </script>    <script type="text/javascript">        function bindRoute_Multiple(CityId) {            jQuery('#ddlRoute_Multiple option').remove();            var ddlRoute_Multiple = $("#<%=ddlRoute_Multiple.ClientID %>");            serverCall('PhelebotomistMapping.aspx/bindRoute_Multiple',                { CityId:  CityId },                function (result) {                    var routeData = jQuery.parseJSON(result);                    ddlRoute_Multiple.bindDropDown({ defaultValue: '--Select---', data: JSON.parse(result), valueField: 'Routeid', textField: 'Route', isSearchAble: true });                    jQuery('#ddlRoute_Multiple').trigger('chosen:updated');                })        }        function bindArea_Multiple(Pincode, Routeid, CityId) {            $('#hdnPincode').val(Pincode);            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple',                { Pincode:  Pincode , CityId:  CityId },                function (result) {                    var DropLocationRouteData = jQuery.parseJSON(result);                    CreateCheckBox(DropLocationRouteData, Routeid);                })        }        function bindArea_Multiple_Phelebo(Pincode, PheleboId, CityId) {            $('#hdnPincode').val(Pincode);            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple_Phelbo',                { Pincode:  Pincode , CityId:  CityId , PhelboId:  PheleboId },                function (result) {                    var DropLocationPheleboData = jQuery.parseJSON(result);                    CreateCheckBox_Phelebo(DropLocationPheleboData, PheleboId);                })        }        function bindArea_Multiple_DropLocation(Pincode, DropLocationId, CityId) {            $('#hdnPincode').val(Pincode);            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple_DropLocation',                { Pincode:  Pincode , CityId:  CityId , DropLocationId:  DropLocationId },                function (result) {                    var DropLocationData = jQuery.parseJSON(result);                    CreateCheckBox_DropLocation(DropLocationData, DropLocationId);                })        }        function bindArea_Multiple_ChangeRoute() {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            var Routeid = $("#<%=ddlRoute.ClientID %>").val();            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple',                { Pincode:  Pincode , CityId: CityId },                function (result) {                    var DropLocationRouteData = jQuery.parseJSON(result);                    CreateCheckBox(DropLocationRouteData, Routeid);                })        }        function bindArea_Multiple_ChangePhelebo() {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            var PheleboId = $("#<%=ddlPhelbo.ClientID %>").val();            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple_Phelbo',                { Pincode:  Pincode , CityId:  CityId , PhelboId:  PheleboId  },                function (result) {                    var DropLocationPheleboData = jQuery.parseJSON(result);                    CreateCheckBox_Phelebo(DropLocationPheleboData, PheleboId);                    BindPheleboTable(Pincode, PheleboId, CityId);                })        }        function bindArea_Multiple_ChangeDropLocation() {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            var DropLocationId = $("#<%=ddlDropLocation.ClientID %>").val();            serverCall('PhelebotomistMapping.aspx/bindArea_Multiple_DropLocation',                { Pincode: Pincode , CityId: CityId , DropLocationId:  DropLocationId.split('#')[0]},                function (result) {                    var DropLocationData = jQuery.parseJSON(result);                    CreateCheckBox_DropLocation(DropLocationData, DropLocationId.split('#')[0]);                    BindDropLocationTable(Pincode, DropLocationId.split('#')[0], CityId);                })        }        function bindRoute(CityId, Routeid) {            jQuery('#ddlRoute option').remove();            jQuery('#ddlRoute').trigger('chosen:updated');            var ddlRoute = $("#<%=ddlRoute.ClientID %>");            serverCall('PhelebotomistMapping.aspx/bindRoute',                { CityId:  CityId  },                function (result) {                    var routeData = jQuery.parseJSON(result);                    ddlRoute.bindDropDown({ defaultValue: '', data: JSON.parse(result), valueField: 'Routeid', textField: 'Route', isSearchAble: true });                    $('#<%=ddlRoute.ClientID%>').val(Routeid);                    jQuery('#ddlRoute').trigger('chosen:updated');                })        }        function bindPhelbo(CityId, Pheleboid) {            jQuery('#ddlPhelbo option').remove();            jQuery('#ddlPhelbo').trigger('chosen:updated');            var ddlPhelbo = $("#<%=ddlPhelbo.ClientID %>");            serverCall('PhelebotomistMapping.aspx/bindPhelbo',                { CityId:  CityId  },                 function (result) {                     var PhelboData = jQuery.parseJSON(result);                     //for (i = 0; i < PhelboData.length; i++) {                     //    jQuery("#ddlPhelbo").append(jQuery("<option></option>").val(PhelboData[i].PhlebotomistID).html(PhelboData[i].NAME));                     //}                     ddlPhelbo.bindDropDown({ defaultValue: '', data: JSON.parse(result), valueField: 'PhlebotomistID', textField: 'NAME', isSearchAble: true });                     $('#<%=ddlPhelbo.ClientID%>').val(Pheleboid);                    jQuery('#ddlPhelbo').trigger('chosen:updated');                 })        }        function bindDropLocation(StateId, DropLocationId,panelid) {            jQuery('#ddlDropLocation option').remove();            jQuery('#ddlDropLocation').trigger('chosen:updated');              var checkType=  ($('#<%=rblSearchType.ClientID%>:input[type=radio]:checked').val())>0?$('#<%=rblSearchType.ClientID%>:input[type=radio]:checked').val():1;            var StateIds = $('#ddlState option:selected').val()            var ddlDropLocation = $("#<%=ddlDropLocation.ClientID %>");            serverCall('PhelebotomistMapping.aspx/bindDropLocation',                { StateId: StateIds , checkType:  checkType  },                function (result) {                    var DropLocationData = jQuery.parseJSON(result);                    ddlDropLocation.bindDropDown({ defaultValue: '', data: JSON.parse(result), valueField: 'centreid', textField: 'centre', isSearchAble: true });                    var dropid = DropLocationId + "#" + panelid;                    $('#<%=ddlDropLocation.ClientID%>').val(dropid);                    jQuery('#ddlDropLocation').trigger('chosen:updated');                })        }        function bindDropLocationChangeType() {            jQuery('#ddlDropLocation option').remove();            jQuery('#ddlDropLocation').trigger('chosen:updated');            var ddlDropLocation = $("#<%=ddlDropLocation.ClientID %>");                       var checkType = $("#<%=rblSearchType.ClientID%>").find(":checked").val();            serverCall('PhelebotomistMapping.aspx/bindDropLocation',                { StateId: $('#hdnStateId').val() , checkType:  checkType  },                function (result) {                    var DropLocationData = jQuery.parseJSON(result);                    ddlDropLocation.bindDropDown({ defaultValue: '', data: JSON.parse(result), valueField: 'centreid', textField: 'centre', isSearchAble: true });                    //for (i = 0; i < DropLocationData.length; i++) {                    //    jQuery("#ddlDropLocation").append(jQuery("<option></option>").val(DropLocationData[i].centreid).html(DropLocationData[i].centre));                    //}                    jQuery('#ddlDropLocation').trigger('chosen:updated');                    bindArea_Multiple_ChangeDropLocation();                })        }        </script>       <script type="text/javascript">        function searchitemexcel() {                                  var cityIdCollection = [];            $('#ddlCity :checked').each(function (i) {                cityIdCollection[i] = $(this).val();            })            var cityIds = cityIdCollection.join(",")            serverCall('PhelebotomistMapping.aspx/GetDataExcel',                { CityId: cityIds },                function (result) {                    ItemData = result;                    if (ItemData == "false") {                        toast("Error","No Item Found","");                    }                    else {                        window.open('../common/ExportToExcel.aspx');                    }                })        }        function searchitem() {            $('#hdnCityId').val($('#<%=ddlCity.ClientID%>').val());            // clearForm();                        $('#tblitemlist tr').slice(1).remove();            var cityIdCollection = [];            $('#ddlCity :checked').each(function (i) {                cityIdCollection[i] = $(this).val();            })            var cityIds = cityIdCollection.join(",")            serverCall('PhelebotomistMapping.aspx/GetData',                { CityId: cityIds },                function (result) {                    ItemData = jQuery.parseJSON(result);                    if (ItemData.length == 0) {                        toast("Error","No Item Found","");                                         }                    else {                        for (var i = 0; i <= ItemData.length - 1; i++) {                            var mydata = "<tr style='background-color:bisque;' id=" + ItemData[i].ID + ">";
                            mydata += '<td class="GridViewLabItemStyle"  id="" >' + (i + 1) + '</td>';
                            mydata += '<td class="GridViewLabItemStyle"  id="tdLocationCity" >' + ItemData[i].City + '</td>';
                            mydata += '<td class="GridViewLabItemStyle"  id="tdLocationName" >' + ItemData[i].location + '</td>';
                            mydata += '<td class="GridViewLabItemStyle"  id="tdPincode" >' + ItemData[i].Pincode + '</td>';



                            mydata += '<td class="GridViewLabItemStyle" style="cursor:pointer;"  id="tdRoute"  title="Map Route"  onclick="OpenPopupRoute(' + ItemData[i].CityID + ',' + ItemData[i].ID + ',' + ItemData[i].Pincode + ',' + ItemData[i].Routeid.split('^')[0] + ',this)" >';

                            if (ItemData[i].Routeid != '0') {
                                for (var k = 0; k < ItemData[i].Routeid.split('^').length; k++) {
                                    if (k <= 1) {
                                        mydata += '<span style="margin-left: 5px;" id="Level1@' + ItemData[i].Routeid.split('^')[k] + '" class="level">' + ItemData[i].Route.split('^')[k] + '</span>';

                                    }
                                    if (k >= 2 && k == 2) {
                                        mydata += '<span style="margin-left: 5px;" id="Level1" class="level">More...</span>';
                                    }

                                }
                            }

                            mydata += '  </td>';


                            mydata += '<td class="GridViewLabItemStyle" id="tdPhelbo"  title="Map Phelbo"  style="cursor:pointer;"  onclick="OpenPopupPhelbo(' + ItemData[i].CityID + ',' + ItemData[i].ID + ',' + ItemData[i].Pincode + ',' + ItemData[i].Phelboid.split('^')[0] + ',\'' + ItemData[i].location + '\',this)">';

                            if (ItemData[i].Phelboid != '0') {
                                for (var k = 0; k < ItemData[i].Phelboid.split('^').length; k++) {
                                    if (k <= 1) {
                                        mydata += '<span style="margin-left: 5px;" id="Level2@' + ItemData[i].Phelboid.split('^')[k] + '" class="level">' + ItemData[i].Phelbo.split('^')[k] + '</span>';

                                    }
                                    if (k >= 2 && k == 2) {
                                        mydata += '<span style="margin-left: 5px;" id="Level2" class="level">More...</span>';
                                    }

                                }
                            }




                            mydata += '  </td>'
                            mydata += '<td class="GridViewLabItemStyle" id="tdDropLocation" title="Map DropLocation" style="cursor:pointer;" onclick="OpenPopupDropLocation(' + ItemData[i].CityID + ',' + ItemData[i].StateID + ',' + ItemData[i].ID + ',' + ItemData[i].Pincode + ',' + ItemData[i].DropLocationid.split('^')[0].split('#')[0] + ',' + ItemData[i].DropLocationid.split('^')[0].split('#')[1] + ',\'' + ItemData[i].location + '\',this)">';

                            if (ItemData[i].DropLocationid != '0') {
                                for (var k = 0; k < ItemData[i].DropLocationid.split('^').length; k++) {
                                    if (k <= 1) {
                                        mydata += '<span style="margin-left: 5px;" id="Level2@' + ItemData[i].DropLocationid.split('^')[k] + '" class="level">' + ItemData[i].DropLocation.split('^')[k] + '</span>';

                                    }
                                    if (k >= 2 && k == 2) {
                                        mydata += '<span style="margin-left: 5px;" id="Level2" class="level">More...</span>';
                                    }

                                }
                            }



                            mydata += '  </td>'




                            mydata += '<td style="display:none;" id="tdLocationid">' + ItemData[i].ID + '</td>';

                            mydata += '<td style="display:none;" id="tdStateId">' + ItemData[i].StateID + '</td>';

                            mydata += '<td style="display:none;" id="tdCityId">' + ItemData[i].CityID + '</td>';

                            mydata += '<td style="display:none;" id="tdRoutehead">' + ItemData[i].Route + '</td>';
                            mydata += '<td style="display:none;" id="tdPhelbohead">' + ItemData[i].Phelbo + '</td>';
                            mydata += '<td style="display:none;" id="tdDropLocationhead">' + ItemData[i].DropLocation + '</td>';




                            mydata += "</tr>";
                            $('#tblitemlist').append(mydata);                        }                    }                })         }  </script>     <script type="text/javascript">         function SaveRoute_Multiple() {             if ($('#<%= lst_LocationRoute.ClientID%>').val() == "") {                 toast("Error","Please select Area","");                 return false;             }             $("#btnSaveRoute_Multiple").attr('disabled', 'disabled').val('Submitting...');             serverCall('PhelebotomistMapping.aspx/SaveRoute_Multiple',                 { LocalityId:  $('#<%= lst_LocationRoute.ClientID%>').val() , RouteID:  $('#<%= ddlRoute_Multiple.ClientID%>').val()  },                 function (result) {                     DataResult = jQuery.parseJSON(result);                     if (DataResult == '1') {                         BindRouteTable_Multiple($('#hdnCityId').val());                         searchitem();                         toast("Success",'Route mapped successfully',"");                     }                     else if (DataResult == '2') {                         toast("Error",' Location already mapped with a route first remove route.',"");                     }                     else {                         toast("Error",'Route not mapped',"");                     }                     $('#btnSaveRoute_Multiple').removeAttr('disabled').val('Save');                 })        }            function CreateCheckBox(checkboxlistItems,Routeid) {            $('#checkBoxList').remove();            var table = $('<table id="checkBoxList"></table>');            var counter = 0;            $('.Chkclass').remove();            $('#dvCheckBoxListControl').empty();            var i = 0;            $(checkboxlistItems).each(function () {                if (i == 0) {                    table.append( $('<tr></tr>'));                }                var check = false;                                if (Routeid == this.Routeid) {                                        check = true;                }                            table.append($('<td></td>').append($('<input>').attr({                                       type: 'checkbox', name: 'chklistitem', value: this.Id, id: 'chklistitem' + counter, class: 'Chkclass',checked: check,onchange:'SaveCheck(this)'            })).append(             $("<label class='Chkclass'>").attr({                 for: 'chklistitem' + counter++             }).text(this.NAME + ',Pincode(' + this.Pincode + ')')));                                       i++;                if (i == 3) {                    i = 0;                }            });                                   $('#BindingDiv').append(table);        }                function CreateCheckBox_Phelebo(checkboxlistItems, Pheleboid) {                       $('#checkBoxList').remove();            var table = $('<table id="checkBoxList"></table>');            var counter = 0;            $('.Chkclass').remove();            $('#dvCheckBoxListControl').empty();            var i = 0;            $(checkboxlistItems).each(function () {                if (i == 0) {                    table.append($('<tr></tr>'));                }                var check = false;                                if (Pheleboid == this.Pheleboid) {                    check = true;                }                table.append($('<td></td>').append($('<input>').attr({                    type: 'checkbox', name: 'chklistitem', value: this.Id, id: 'chklistitem' + counter, class: 'Chkclass', checked: check, onchange: 'SaveCheckPhelebo(this)'                })).append(             $("<label class='Chkclass'>").attr({                 for: 'chklistitem' + counter++             }).text(this.NAME + ',Pincode(' + this.Pincode + ')')));                i++;                if (i == 3) {                    i = 0;                }            });                        $('#divAreaPhlebo').append(table);        }        function CreateCheckBox_DropLocation(checkboxlistItems, DropLocationId) {            $('#checkBoxList').remove();            var table = $('<table id="checkBoxList"></table>');            var counter = 0;            $('.Chkclass').remove();            $('#dvCheckBoxListControl').empty();            var i = 0;            $(checkboxlistItems).each(function () {                if (i == 0) {                    table.append($('<tr></tr>'));                }                var check = false;                if (DropLocationId == this.droplocationID) {                    check = true;                }                table.append($('<td></td>').append($('<input>').attr({                    type: 'checkbox', name: 'chklistitem', value: this.Id, id: 'chklistitem' + counter, class: 'Chkclass', checked: check, onchange: 'SaveCheckDropLocation(this)'                })).append(             $("<label class='Chkclass'>").attr({                 for: 'chklistitem' + counter++             }).text(this.NAME + ',Pincode(' + this.Pincode + ')')));                i++;                if (i == 3) {                    i = 0;                }            });            $('#divAreaDropLocation').append(table);        }        function SaveCheck(ctr) {                        var isChecked = ctr.checked;            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            if ($('#<%= ddlRoute.ClientID%>').val() == null) {                ctr.checked = false;                toast("Error",'Please select route');                return false;            }            serverCall('PhelebotomistMapping.aspx/SaveRoute',                { LocalityId: $(ctr).val() , RouteID:  $('#<%= ddlRoute.ClientID%>').val() , isChecked:  isChecked  },                function (result) {                    DataResult = jQuery.parseJSON(result);                    if (DataResult == '1') {                        //BindRouteTable(Pincode, $('#<%= ddlRoute.ClientID%>').val(), CityId);                         //  searchitem();                         toast("Success",'Route mapped successfully for this location',"");                     }                     else if (DataResult == '2') {                         toast("Error","Location already mapped with a route first remove route.","");                     }                     else if (DataResult == '3') {                         BindRouteTable(Pincode, $('#<%= ddlRoute.ClientID%>').val(), CityId);                        //  searchitem();                        toast("Success","Route unmapped successfully for this location","");                    }                    else {                        toast("Error",'Route not mapped',"");                    }                })        }        function SaveCheckPhelebo(ctr) {            var isChecked = ctr.checked;            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            if ($('#<%= ddlPhelbo.ClientID%>').val() == null) {                ctr.checked = false;                toast("Error",'Please select Phelebo',"");                return false;            }            serverCall('PhelebotomistMapping.aspx/SavePhelbo',                { LocalityId:$(ctr).val() , PhelboID: $('#<%= ddlPhelbo.ClientID%>').val() , isChecked:  isChecked  },                function (result) {                    DataResult = jQuery.parseJSON(result);                    if (DataResult == '1') {                        //BindPheleboTable(Pincode, $('#<%= ddlPhelbo.ClientID%>').val(), CityId);                        //   searchitem();                        toast("Success",'Phelbo mapped successfully for this location',"");                    }                    else if (DataResult == '2') {                          toast("Error",' Location already mapped with Phelbo.',"");                    }                    else if (DataResult == '3') {                        //BindPheleboTable(Pincode, $('#<%= ddlPhelbo.ClientID%>').val(), CityId);                         //   searchitem();                         toast("Success",'Phelbo unmapped successfully for this location',"");                     }                     else {                         toast("Error",'Phelbo not mapped',"");                     }                })        }        function SaveCheckDropLocation(ctr) {            var isChecked = ctr.checked;            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            if ($('#<%= ddlDropLocation.ClientID%>').val() == null) {                ctr.checked = false;                toast("Error",'Please select Drop location',"");                return false;            }            serverCall('PhelebotomistMapping.aspx/SaveDropLocation',                { LocalityId:  $(ctr).val() , DropLocationID:  $('#<%= ddlDropLocation.ClientID%>').val() , isChecked: isChecked },                function (result) {                    DataResult = jQuery.parseJSON(result);                    if (DataResult == '1') {                        BindDropLocationTable(Pincode, $('#<%= ddlDropLocation.ClientID%>').val().split('#')[0], CityId);                        // searchitem();                        toast("Success",'Drop location mapped successfully for this location',"");                    }                    else if (DataResult == '2') {                        //   showerrormsg(' Location already mapped with Phelbo.');                    }                    else if (DataResult == '3') {                        BindDropLocationTable(Pincode, $('#<%= ddlDropLocation.ClientID%>').val().split('#')[0], CityId);                        //   searchitem();                        toast("Success",'Drop location unmapped successfully for this location',"");                    }                    else {                        toast("Error",'Drop location not mapped',"");                    }                }) }    </script>    <script type="text/javascript">        function SaveRoute() {                              serverCall('PhelebotomistMapping.aspx/SaveRoute',                { LocalityId:  $('#hdnlocationid').val() , RouteID:  $('#<%= ddlRoute.ClientID%>').val() },                function (result) {                    DataResult = jQuery.parseJSON(result);                    if (DataResult == '1') {                       // BindRouteTable($('#hdnlocationid').val(), $('#<%= ddlRoute.ClientID%>').val(), $('#hdnCityId').val());                        searchitem();                        toast("Success",'Route mapped successfully',"");                    }                    else if (DataResult == '2') {                        toast("Error",' Location already mapped with a route first remove route.',"");                    }                    else {                        toast("Error",'Route not mapped',"");                    }                })    }        function SavePhelbo() {                     serverCall('PhelebotomistMapping.aspx/SavePhelbo',                { LocalityId:  $('#hdnlocationid').val() , PhelboID:  $('#<%= ddlPhelbo.ClientID%>').val()  },                function (result) {                    DataResult = jQuery.parseJSON(result);                    if (DataResult == '1') {                        BindPheleboTable($('#hdnlocationid').val());                        searchitem();                        toast("Success",'Phelbo mapped successfully',"");                    }                    else if (DataResult == '2') {                        toast("Error",'Phelbo already mapped with this location.',"");                    }                    else {                        toast("Error",'Phelbo not mapped',"");                    }                })        }        function BindRouteTable(Pincode, Routeid,CityId) {            serverCall('PhelebotomistMapping.aspx/BindRouteTable',                { Pincode: Pincode , Routeid:  Routeid , CityId: CityId  },                function (result) {                    routeTableData = $.parseJSON(result);                    if (routeTableData.length == 0) {                        jQuery('#div_RouteDetail').empty();                        return;                    }                    var output = jQuery('#sc_RouteDetail').parseTemplate(routeTableData);                    jQuery('#div_RouteDetail').html(output);                    jQuery('#div_RouteDetail').show();                    jQuery('#tbl_RouteDetail tr').each(function () {                        var id = $(this).attr("id");                        if (id != "RouteHeader") {                            // EmpList.push($(this).find('#tdEmployee_ID').text());                        }                    });                })        }        function BindRouteTable_Multiple(CityId) {            serverCall('PhelebotomistMapping.aspx/BindRouteTable_Multiple',                { CityId:  CityId  },                function (result) {                    routeTableData = $.parseJSON(result);                    if (routeTableData.length == 0) {                        jQuery('#div_RouteDetail_Multiple').empty();                        return;                    }                    var output = jQuery('#sc_RouteDetail_Multiple').parseTemplate(routeTableData);                    jQuery('#div_RouteDetail_Multiple').html(output);                    jQuery('#div_RouteDetail_Multiple').show();                })        }        function RouteRemove_Multiple(locationid, routeid,CityId) {            serverCall('PhelebotomistMapping.aspx/RouteRemove_Multiple',                { locationid: locationid , routeid:  routeid  },                function (result) {                    if (result == "1") {                      //  BindRouteTable_Multiple(CityId);                        //  searchitem();                    }                    else {                        toast("Error",'Error..');                    }                })        }        function RouteRemove(locationid, Routeid) {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            serverCall('PhelebotomistMapping.aspx/routeRemove',                { locationid:  locationid , routeid:  Routeid },                function () {                    if (result == "1") {                        BindRouteTable(Pincode, Routeid, CityId);                        bindArea_Multiple(Pincode, Routeid, CityId);                        //searchitem();                    }                    else {                        toast("Error",'Error..');                    }                })        }        function BindPheleboTable(Pincode, Pheleboid, CityId) {            serverCall('PhelebotomistMapping.aspx/BindPheleboTable',                { Pincode:  Pincode , Pheleboid: Pheleboid , CityId:  CityId  },                function (result) {                    PheleboTableData = $.parseJSON(result);                    if (PheleboTableData.length == 0) {                        jQuery('#div_PhelboDetail').empty();                        return;                    }                    var output = jQuery('#sc_PhelboDetail').parseTemplate(PheleboTableData);                    jQuery('#div_PhelboDetail').html(output);                    jQuery('#div_PhelboDetail').show();                    jQuery('#tbl_PhelboDetail tr').each(function () {                        var id = $(this).attr("id");                        if (id != "PhelboHeader") {                            // EmpList.push($(this).find('#tdEmployee_ID').text());                        }                    });                })        }        function PhelboRemove(locationid, pheleboid) {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            serverCall('PhelebotomistMapping.aspx/pheleboRemove',                { locationid: locationid , pheleboid: pheleboid },                function (result) {                    if (result == "1") {                        BindPheleboTable(Pincode, pheleboid, CityId);                        bindArea_Multiple_Phelebo(Pincode, pheleboid, CityId);                        // searchitem();                    }                    else {                        toast("Error",'Error..');                    }                })        }        function DropLocationRemove(locationid, DropLocationid) {            var Pincode = $('#hdnPincode').val();            var CityId = $('#hdnCityId').val();            serverCall('PhelebotomistMapping.aspx/DropLocationRemove',                { locationid:  locationid , DropLocationid: DropLocationid  },                function (result) {                    if (result == "1") {                        BindDropLocationTable(Pincode, DropLocationid, CityId);                        bindArea_Multiple_DropLocation(Pincode, DropLocationid, CityId);                        // searchitem();                    }                    else {                        toast("Error",'Error..',"");                    }                })        }        function BindDropLocationTable(Pincode, Droplocationid, CityId) {            serverCall('PhelebotomistMapping.aspx/BindDropLocationTable',                { Pincode:  Pincode , Droplocationid:  Droplocationid , CityId: CityId  },                function (result) {                    DropLocationTableData = $.parseJSON(result);                    if (DropLocationTableData.length == 0) {                        jQuery('#div_DropLocationDetail').empty();                        return;                    }                    var output = jQuery('#sc_DropLocationDetail').parseTemplate(DropLocationTableData);                    jQuery('#div_DropLocationDetail').html(output);                    jQuery('#div_DropLocationDetail').show();                    jQuery('#tbl_DropLocationDetail tr').each(function () {                        var id = $(this).attr("id");                        if (id != "DropLocationHeader") {                            // EmpList.push($(this).find('#tdEmployee_ID').text());                        }                    });                })        }        function SaveDropLocation() {            $("#btnDropLocation").attr('disabled', 'disabled').val('Submitting...');            serverCall('PhelebotomistMapping.aspx/SaveDropLocation',                function (result) {                    DataResult = jQuery.parseJSON(result.d);                    if (DataResult == '1') {                        BindDropLocationTable($('#hdnlocationid').val(), $('#<%= ddlDropLocation.ClientID%>').val(), 0);                        toast("Success",'Drop Location mapped successfully',"");                    }                    else if (DataResult == '2') {                        toast("Error",'Drop Location already mapped with this location.',"");                    }                    else {                        toast("Error",'Drop Location not mapped',"");                    }                })        }    </script></asp:Content>